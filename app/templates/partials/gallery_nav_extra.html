<div class="d-flex align-items-center gap-2">
  <button
    class="btn btn-outline-light btn-sm d-sm-none"
    type="button"
    data-bs-toggle="collapse"
    data-bs-target="#navFilters"
    aria-controls="navFilters"
    aria-expanded="false"
    aria-label="Search / filters"
    title="Search / filters"
  >
    &#128269;
  </button>

  <div class="collapse phototank-navfilters" id="navFilters">
  <form class="d-flex align-items-center gap-2 flex-wrap" method="get" action="/phototank/">
    <div class="d-flex align-items-center gap-1">
      <label class="text-light small mb-0" for="jump">Jump</label>
      <input class="form-control form-control-sm" type="date" id="jump" name="jump" value="{{ jump_date }}">
    </div>

    <div class="d-flex align-items-center gap-1">
      <label class="text-light small mb-0" for="limit">Per</label>
      <input class="form-control form-control-sm" type="number" id="limit" name="limit" min="1" max="200" value="{{ limit }}" style="width: 6.5rem;">
    </div>

    <div class="d-flex align-items-center gap-1">
      <label class="text-light small mb-0" for="rating">Rating</label>
      <select class="form-select form-select-sm" id="rating" name="rating" style="width: 5.5rem;">
        <option value="" {% if rating is none %}selected{% endif %}>All</option>
        <option value="0" {% if rating == 0 %}selected{% endif %}>0</option>
        <option value="1" {% if rating == 1 %}selected{% endif %}>1</option>
        <option value="2" {% if rating == 2 %}selected{% endif %}>2</option>
        <option value="3" {% if rating == 3 %}selected{% endif %}>3</option>
      </select>
    </div>

    <div class="d-flex align-items-center gap-1">
      <label class="text-light small mb-0" for="tag">Tag</label>
      <select class="form-select form-select-sm" id="tag" name="tag" style="width: 10rem;">
        <option value="" {% if tag_id is none %}selected{% endif %}>All</option>
        {% for t in tags %}
          <option value="{{ t.id }}" {% if tag_id == t.id %}selected{% endif %}>{{ t.name }}</option>
        {% endfor %}
      </select>
    </div>

    <div class="d-flex align-items-center gap-1">
      <label class="text-light small mb-0" for="country">Country</label>
      <input
        class="form-control form-control-sm"
        id="country"
        name="country"
        list="countryOptions"
        value="{{ country or '' }}"
        placeholder="All"
        style="width: 10rem;"
      >
      <datalist id="countryOptions">
        {% for c in geo_countries %}
          <option value="{{ c }}"></option>
        {% endfor %}
      </datalist>
    </div>

    <div class="d-flex align-items-center gap-1">
      <label class="text-light small mb-0" for="city">City</label>
      <input
        class="form-control form-control-sm"
        id="city"
        name="city"
        list="cityOptions"
        value="{{ city or '' }}"
        placeholder="All"
        style="width: 11rem;"
      >
      <datalist id="cityOptions">
        {% for c in geo_cities %}
          <option value="{{ c }}"></option>
        {% endfor %}
      </datalist>
    </div>

    <button class="btn btn-primary btn-sm" type="submit">Go</button>
  </form>

  </div>

  <button class="btn btn-outline-light btn-sm d-none d-sm-inline-flex" type="button" id="selectedToggle" data-bs-toggle="offcanvas" data-bs-target="#selectedOffcanvas" aria-controls="selectedOffcanvas">
    Selected (<span id="navSelectedCount">0</span>)
  </button>
</div>
